function [nk] = returnDiagonalBlocksDimension(R)
% Given a quasi upper triangular matrix, the function returns the dimension
% of each block forming the diagonal (supposing that the maximum dimension
% is 2)

n = size(R,1);
aux = true;
i = 1;
nk = zeros(n,1);
cur_block_number = 1;
while(aux)
    i
    if (i == n)
        nk(cur_block_number) = 1;
        cur_block_number = cur_block_number + 1;
        aux = false;
    elseif (R(i+1,i)~=0)
        nk(cur_block_number) = 2;
        cur_block_number = cur_block_number + 1;
        if (i + 2<=n)
            i = i + 2;
        elseif (i+1==n)
            i = i+1;
        end
            
    else
        nk(cur_block_number) = 1;
        cur_block_number = cur_block_number + 1;
        if (i+1<=n)
            i = i+1;
        end
    end
end
n = cur_block_number-1;
nx = nk(1:n);
for i = 1: